<scientilla-backend-layout>
    <div class="groups group-detail">
        <div class="title-container">
            <h1 class="title">
                {{ vm.group.getDisplayName() }}
                <i
                    class="fas fa-history"
                    ng-if="vm.descriptions.length > 1"
                    uib-tooltip-html="vm.getDescriptionsTooltipHTML(vm.descriptions)"
                    tooltip-placement="bottom"
                    tooltip-class="text-left"
                ></i>
            </h1>
            <button
                ng-if="vm.group && vm.activeTabIndex === 1 && vm.isGroupAdmin()"
                ng-click="vm.addCollaborator()"
                class="btn btn-primary btn-add-collaborator">
                Add collaborator<i class="fas fa-plus fa-right"></i>
            </button>
        </div>

        <uib-tabset active="vm.activeTabIndex">
            <uib-tab
                index="0"
                heading="Info"
            >
                <scientilla-group-info
                    ng-if="vm.group"
                    group="vm.group"
                    active="vm.activeTabIndex === 0"
                ></scientilla-group-info>
            </uib-tab>
            <uib-tab
                index="1"
                heading="Members"
            >
                <scientilla-group-members
                    ng-if="vm.group"
                    group="vm.group"
                    refresh-group="vm.refreshGroup"
                    active="vm.activeTabIndex === 1"
                ></scientilla-group-members>
            </uib-tab>
            <uib-tab
                index="2"
                ng-show="vm.loggedUser.isAdmin()"
                heading="Groups"
            >
                <scientilla-group-groups
                    ng-if="vm.group"
                    group="vm.group"
                    refresh-group="vm.refreshGroup"
                ></scientilla-group-groups>
            </uib-tab>
            <uib-tab
                index="3"
                ng-if="vm.isScientific()"
                heading="Documents"
            >
                <scientilla-documents-list
                    ng-if="vm.group"
                    research-entity="vm.group"
                    section="vm.documentListSections.GROUP"
                    active="vm.activeTabIndex === 3"
                ></scientilla-documents-list>
            </uib-tab>
            <uib-tab
                index="4"
                ng-if="vm.isScientific()"
                heading="Accomplishments"
            >
                <scientilla-accomplishments-list
                    ng-if="vm.researchEntity"
                    research-entity="vm.researchEntity"
                    section="vm.accomplishmentListSections.GROUP"
                    active="vm.activeTabIndex === 4"
                ></scientilla-accomplishments-list>
            </uib-tab>
            <uib-tab
                index="5"
                ng-if="vm.isScientific()"
                heading="Projects"
            >
                <scientilla-projects-list
                    ng-if="vm.researchEntity"
                    research-entity="vm.researchEntity"
                    section="vm.projectListSections.GROUP"
                    active="vm.activeTabIndex === 5"
                ></scientilla-projects-list>
            </uib-tab>
            <uib-tab
                index="6"
                ng-if="vm.isScientific()"
                heading="Patents"
            >
                <scientilla-patents-list
                    ng-if="vm.researchEntity"
                    research-entity="vm.researchEntity"
                    section="vm.patentListSections.GROUP"
                    active="vm.activeTabIndex === 6"
                ></scientilla-patents-list>
            </uib-tab>
            <uib-tab
                index="7"
                ng-if="vm.loggedUser.isSuperViewer() && vm.isScientific()"
                heading="Documents Charts"
            >
                <summary-overview research-entity="vm.group"></summary-overview>
            </uib-tab>
            <uib-tab
                index="8"
                heading="Bibliometric Charts"
                ng-if="vm.loggedUser.isSuperViewer() && vm.isScientific()"
            >
                <summary-metrics research-entity="vm.group"></summary-metrics>
            </uib-tab>
            <uib-tab
                index="9"
                heading="Projects and Technology Transfer"
                ng-if="vm.loggedUser.isSuperViewer() && vm.isScientific()"
            >
                <summary-projects-technology-transfer research-entity="vm.group"></summary-projects-technology-transfer>
            </uib-tab>
            <uib-tab
                index="10"
                heading="Scientific production"
                ng-if="vm.showScientificProduction()"
            >
                <scientific-production
                    ng-if="vm.group"
                    group="vm.group"
                    active="vm.activeTabIndex === 10"
                ></scientific-production>
            </uib-tab>
        </uib-tabset>
    </div>
</scientilla-backend-layout>
