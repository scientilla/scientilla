<scientilla-backend-layout>
    <div class="groups group-detail">
        <div class="title-container">
            <h1 class="title">{{ vm.group.getDisplayName() }}</h1>
            <button
                ng-if="vm.group && vm.activeTabIndex === 1 && vm.isAdmin()"
                ng-click="vm.addCollaborator()"
                class="btn btn-primary btn-add-collaborator">
                Add collaborator<i class="fas fa-plus fa-right"></i>
            </button>
        </div>

        <uib-tabset active="vm.activeTabIndex">
            <uib-tab index="0"
                     heading="Info">
                <scientilla-group-info
                        ng-if="vm.group"
                        group="vm.group"></scientilla-group-info>
            </uib-tab>
            <uib-tab index="1"
                     heading="Members">
                <scientilla-group-members
                        ng-if="vm.group"
                        group="vm.group"
                        refresh-group="vm.refreshGroup"></scientilla-group-members>
            </uib-tab>
            <uib-tab index="2"
                     ng-show="vm.group.childGroups.length || vm.subResearchEntity.isAdmin()"
                     heading="Groups">
                <scientilla-group-groups
                        ng-if="vm.group"
                        group="vm.group"
                        refresh-group="vm.refreshGroup"></scientilla-group-groups>
            </uib-tab>
            <uib-tab index="3"
                     ng-if="vm.isScientific()"
                     heading="Documents">
                <scientilla-documents-list
                        ng-if="vm.group"
                        research-entity="vm.group"
                        section="vm.documentListSections.GROUP"></scientilla-documents-list>
            </uib-tab>
            <uib-tab index="4"
                     ng-if="vm.isScientific()"
                     heading="Accomplishments">
                <scientilla-accomplishments-list
                        ng-if="vm.researchEntity"
                        research-entity="vm.researchEntity"
                        section="vm.accomplishmentListSections.GROUP"></scientilla-accomplishments-list>
            </uib-tab>
            <uib-tab index="5"
                     ng-if="vm.isAdmin() && vm.isScientific()"
                     heading="Projects">
                <scientilla-projects-list
                        ng-if="vm.researchEntity"
                        research-entity="vm.researchEntity"
                        section="vm.projectListSections.GROUP"></scientilla-projects-list>
            </uib-tab>
            <uib-tab index="6"
                     ng-if="vm.loggedUser.isSuperViewer() && vm.isScientific()"
                     heading="Documents Overview">
                <overview-tab research-entity="vm.group"></overview-tab>
            </uib-tab>
            <uib-tab index="7"
                     heading="Bibliometric Charts"
                     ng-if="vm.loggedUser.isSuperViewer() && vm.isScientific()">
                <metrics-tab research-entity="vm.group"></metrics-tab>
            </uib-tab>
        </uib-tabset>
    </div>
</scientilla-backend-layout>